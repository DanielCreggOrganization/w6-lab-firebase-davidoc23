<ion-header>
  <ion-toolbar>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <!-- Form for User Authentication -->
  <form [formGroup]="userAuthForm" (ngSubmit)="handleAuthentication()">
    <!-- Email Input -->
    <ion-item>
      <ion-label position="floating">Email</ion-label>
      <ion-input
        type="email"
        formControlName="email"
        [ngClass]="{ 'is-invalid': emailControl.invalid && emailControl.touched }"
        required
      ></ion-input>
    </ion-item>

    <!-- Error message for email -->
    <ion-text color="danger" *ngIf="emailControl.invalid && emailControl.touched">
      <p *ngIf="emailControl.hasError('required')">Email is required.</p>
      <p *ngIf="emailControl.hasError('email')">Enter a valid email.</p>
    </ion-text>

    <!-- Password Input -->
    <ion-item>
      <ion-label position="floating">Password</ion-label>
      <ion-input
        [type]="isPasswordVisible ? 'text' : 'password'"
        formControlName="password"
        required
      ></ion-input>
      <ion-icon
        slot="end"
        name="eye-outline"
        (click)="isPasswordVisible = !isPasswordVisible"
      ></ion-icon>
    </ion-item>

    <!-- Error message for password -->
    <ion-text color="danger" *ngIf="passwordControl.invalid && passwordControl.touched">
      <p *ngIf="passwordControl.hasError('required')">Password is required.</p>
      <p *ngIf="passwordControl.hasError('minlength')">
        Password must be at least 6 characters long.
      </p>
    </ion-text>

    <!-- Sign In Button -->
    <ion-button expand="full" type="submit" [disabled]="userAuthForm.invalid">
      Sign In
    </ion-button>

    <!-- Create Account Button -->
    <ion-button expand="full" color="secondary" (click)="handleRegistration()">
      Create Account
    </ion-button>

    <!-- Reset Password Button -->
    <ion-button expand="full" color="tertiary" (click)="handlePasswordReset()">
      Reset Password
    </ion-button>
  </form>

</ion-content>
